function esInitCanvas(b){var a=document.getElementById(b);var d=null;try{d=a.getContext("webgl")}catch(c){}if(d==null){try{d=a.getContext("experimental-webgl")}catch(c){}}return d}function esNextFrame(b){var c=Date.now();function a(){var d=Date.now();if(!b((d-c)*0.001)){window.requestAnimationFrame(a)}c=d}window.requestAnimationFrame(a)}var ES_VERTEX=1;var ES_FRAGMENT=2;function esProgram(a){this.gl=a;this.program=a.createProgram()}function compileShader(d,c,a){if(a==ES_VERTEX){a=d.VERTEX_SHADER}else{a=d.FRAGMENT_SHADER}var b=d.createShader(a);d.shaderSource(b,c);d.compileShader(b);if(!d.getShaderParameter(b,d.COMPILE_STATUS)){alert(d.getShaderInfoLog(b))}return b}esProgram.prototype.addShaderId=function(a,b){var c=document.getElementById(a).text;this.gl.attachShader(this.program,compileShader(this.gl,c,b))};esProgram.prototype.link=function(){this.gl.linkProgram(this.program)};esProgram.prototype.use=function(){this.gl.useProgram(this.program)};